module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.app=t.server=void 0,n(1);const i=n(2),a=n(3),u=o(n(4)),s=o(n(5)),c=o(n(6)),d=n(7),l=o(n(8)),p=n(9),f=o(n(10)),_=n(11);t.server=c.default();const h=()=>a.h("div",null,"SSR would be coming soon but I need to research what to do with style-loader");t.server.get("/api/sponsors",f.default(),(e,t)=>r(void 0,void 0,void 0,(function*(){const e=yield _.cache("FIXME",()=>d.requestGraphQL("https://api.opencollective.com/graphql/v2",l.default,{"Api-Key":p.OPEN_COLLECTIVE_API_KEY}));t.send(e)}))),t.server.get("/api/contributors",f.default(),(e,t)=>r(void 0,void 0,void 0,(function*(){const e=yield _.cache("REPLACE ME WITH REAL CAHCE LIBRARY",()=>d.getJSON("https://api.github.com/repos/date-fns/date-fns/contributors?per_page=999"));t.send(e)}))),t.server.get("*",(e,t)=>{const n=u.default(a.h(h,{url:e.url}));t.send(s.default({body:n,entry:"/static/script.js"}))}),t.app=i.https.onRequest(t.server)},function(e,t){e.exports=require("isomorphic-fetch")},function(e,t){e.exports=require("firebase-functions")},function(e,t){e.exports=require("preact")},function(e,t){e.exports=require("preact-render-to-string")},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,o){var i=t.split("\n"),a=Math.max(r-3,0),u=Math.min(i.length,r+3),s=o(n),c=i.slice(a,u).map((function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+r+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="utf-8">\n    <title>date-fns — modern JavaScript date utility library</title>\n  </head>\n  <body>\n    <div id="root">\n      <% if (typeof body !== \'undefined\') { %>\n        <%- body %>\n      <% } %>\n    </div>\n\n    <% if (typeof entry !== \'undefined\') { %>\n      <script src="<%= entry %>"><\/script>\n    <% } %>\n  </body>\n</html>\n',__filename="src/server/template.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="utf-8">\n    <title>date-fns — modern JavaScript date utility library</title>\n  </head>\n  <body>\n    <div id="root">\n      '),__line=9,"undefined"!=typeof body&&(__append("\n        "),__line=10,__append(body),__append("\n      "),__line=11),__append("\n    </div>\n\n    "),__line=14,"undefined"!=typeof entry&&(__append('\n      <script src="'),__line=15,__append(escapeFn(entry)),__append('"><\/script>\n    '),__line=16),__append("\n  </body>\n</html>\n"),__line=19;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t){e.exports=require("express")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};function o(e,t={}){return r(this,void 0,void 0,(function*(){const{method:n="GET",data:r,headers:o={}}=t;let i=o,a={mode:"cors"};r&&("GET"===n||(a=Object.assign(Object.assign({},a),{body:JSON.stringify(r)}),i=Object.assign(Object.assign({},i),{"Content-Type":"application/json"})));const u=yield fetch(e,Object.assign(Object.assign({},a),{method:n,headers:new Headers(i)})),{status:s}=u;return u}))}function i(e,t={}){var n;return r(this,void 0,void 0,(function*(){return(yield o(e,Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},null!==(n=t.headers)&&void 0!==n?n:{}),{Accept:"application/json"})}))).json()}))}Object.defineProperty(t,"__esModule",{value:!0}),t.requestGraphQL=t.getJSON=t.requestJSON=t.request=void 0,t.request=o,t.requestJSON=i,t.getJSON=function(e,t={}){return i(e,Object.assign(Object.assign({},t),{method:"GET"}))},t.requestGraphQL=function(e,t,n){return i(e,{method:"POST",data:{query:t},headers:n})}},function(e,t,n){"use strict";n.r(t),t.default='query {\n  account (slug: "date-fns") {\n    orders (limit: 1000) {\n      totalCount\n      nodes {\n        fromAccount {\n          name\n          imageUrl\n          slug\n          website\n        }\n        createdAt\n        updatedAt\n        status\n        amount {\n          value\n        }\n        totalDonations {\n          value\n        }\n        tier {\n          slug\n        }\n      }\n    }\n  }\n}'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FIREBASE_APP=t.OPEN_COLLECTIVE_API_KEY=void 0,t.OPEN_COLLECTIVE_API_KEY="a4ec7982f7d8a118863c6107d8d554a444cb0d4c",t.FIREBASE_APP={apiKey:"AIzaSyBQhFyhhZ496Btpt4CFRC2aheSlL71ombc",authDomain:"november-experiment.web.app",projectId:"november-experiment",databaseURL:"https://november-experiment.firebaseio.com/"}},function(e,t){e.exports=require("cors")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cache=void 0;const i=o(n(12)),a={};t.cache=function(e,t){return r(this,void 0,void 0,(function*(){if(!a[e]||a[e].lastUpdated<i.default(new Date,1)){const n=yield t();a[e]={response:n,lastUpdated:new Date}}return a[e].response}))}},function(e,t){e.exports=require("date-fns/subDays")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaXNvbW9ycGhpYy1mZXRjaFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImZpcmViYXNlLWZ1bmN0aW9uc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInByZWFjdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInByZWFjdC1yZW5kZXItdG8tc3RyaW5nXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci90ZW1wbGF0ZS5lanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZXhwcmVzc1wiIiwid2VicGFjazovLy8uL3NyYy91dGlscy9yZXF1ZXN0L2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvc3BvbnNvcnNRdWVyeS5ncmFwaHFsIiwid2VicGFjazovLy8uL3NyYy9GSVhNRV9rZXlzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvcnNcIiIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NhY2hlLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImRhdGUtZm5zL3N1YkRheXNcIiJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInNlcnZlciIsIlNlcnZlclVJIiwiX3JlcSIsInJlcyIsImpzb24iLCJjYWNoZSIsInJlcXVlc3RHcmFwaFFMIiwiT1BFTl9DT0xMRUNUSVZFX0FQSV9LRVkiLCJzZW5kIiwiZ2V0SlNPTiIsInJlcSIsImJvZHkiLCJ1cmwiLCJlbnRyeSIsImFwcCIsImh0dHBzIiwib25SZXF1ZXN0IiwicmVxdWlyZSIsImFub255bW91cyIsImxvY2FscyIsImVzY2FwZUZuIiwiaW5jbHVkZSIsInJldGhyb3ciLCJlcnIiLCJzdHIiLCJmbG5tIiwibGluZW5vIiwiZXNjIiwibGluZXMiLCJzcGxpdCIsInN0YXJ0IiwiTWF0aCIsIm1heCIsImVuZCIsIm1pbiIsImxlbmd0aCIsImZpbGVuYW1lIiwiY29udGV4dCIsInNsaWNlIiwibWFwIiwibGluZSIsImN1cnIiLCJqb2luIiwicGF0aCIsIm1lc3NhZ2UiLCJtYXJrdXAiLCJ1bmRlZmluZWQiLCJTdHJpbmciLCJyZXBsYWNlIiwiX01BVENIX0hUTUwiLCJlbmNvZGVfY2hhciIsIl9FTkNPREVfSFRNTF9SVUxFUyIsIl9fbGluZSIsIl9fbGluZXMiLCJfX2ZpbGVuYW1lIiwiX19vdXRwdXQiLCJfX2FwcGVuZCIsImUiLCJyZXF1ZXN0Iiwib3B0aW9ucyIsIm1ldGhvZCIsImRhdGEiLCJoZWFkZXJzIiwiZGVmYXVsdEhlYWRlcnMiLCJmZXRjaE9wdGlvbnMiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzcG9uc2UiLCJmZXRjaCIsIkhlYWRlcnMiLCJzdGF0dXMiLCJyZXF1ZXN0SlNPTiIsIkFjY2VwdCIsInF1ZXJ5IiwiRklSRUJBU0VfQVBQIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsInByb2plY3RJZCIsImRhdGFiYXNlVVJMIiwiY2FjaGVTdG9yZSIsImlkIiwiY2FsbGJhY2siLCJsYXN0VXBkYXRlZCIsIkRhdGUiXSwibWFwcGluZ3MiOiIyQkFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxH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QUFFWSxTQUFTWCxjLDZCQ2xFN0QsT0FBZSx3Yiw4SENBRixFQUFBdkQsd0JBQTBCLDJDQUUxQixFQUFBbUUsYUFBZSxDQUMxQkMsT0FBUSwwQ0FDUkMsV0FBWSw4QkFDWkMsVUFBVyxzQkFDWEMsWUFBYSxnRCxjQ05mL0csRUFBT0QsUUFBVW1ELFFBQVEsUyw2ZUNBekIsaUJBRU04RCxFQUtGLEdBS0osaUJBQTZCQyxFQUFZQyxHLHlDQUN2QyxJQUFLRixFQUFXQyxJQUFRRCxFQUFXQyxHQUFJRSxZQUFjLFVBQVEsSUFBSUMsS0FBUSxHQUFLLENBQzVFLE1BQU1oQixRQUFpQmMsSUFDdkJGLEVBQVdDLEdBQU0sQ0FDZmIsV0FDQWUsWUFBYSxJQUFJQyxNQUdyQixPQUFPSixFQUFXQyxHQUFJYixjLGNDcEJ4QnBHLEVBQU9ELFFBQVVtRCxRQUFRIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0ICdpc29tb3JwaGljLWZldGNoJ1xuaW1wb3J0IHsgaHR0cHMgfSBmcm9tICdmaXJlYmFzZS1mdW5jdGlvbnMnXG5pbXBvcnQgeyBoLCBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCdcbmltcG9ydCByZW5kZXIgZnJvbSAncHJlYWN0LXJlbmRlci10by1zdHJpbmcnXG4vLyBpbXBvcnQgeyBVSSB9IGZyb20gJ3VpJ1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJ3NlcnZlci90ZW1wbGF0ZS5lanMnXG4vLyBpbXBvcnQgeyBSb3V0ZXJDb250ZXh0LCB1c2VSb3V0ZXIgfSBmcm9tICd1aS9yb3V0ZXInXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0IHsgcmVxdWVzdEdyYXBoUUwsIGdldEpTT04gfSBmcm9tICd1dGlscy9yZXF1ZXN0J1xuaW1wb3J0IHNwb25zb3JzUXVlcnkgZnJvbSAnLi9zcG9uc29yc1F1ZXJ5LmdyYXBocWwnXG5pbXBvcnQgeyBPUEVOX0NPTExFQ1RJVkVfQVBJX0tFWSB9IGZyb20gJ0ZJWE1FX2tleXMnXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJ1xuaW1wb3J0IHsgY2FjaGUgfSBmcm9tICcuL2NhY2hlJ1xuXG5jb25zdCBTUE9OU09SU19VUkwgPSAnaHR0cHM6Ly9hcGkub3BlbmNvbGxlY3RpdmUuY29tL2dyYXBocWwvdjInXG5jb25zdCBDT05UUklCVVRPUlNfVVJMID0gJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvZGF0ZS1mbnMvZGF0ZS1mbnMvY29udHJpYnV0b3JzP3Blcl9wYWdlPTk5OSdcblxuZXhwb3J0IGNvbnN0IHNlcnZlciA9IGV4cHJlc3MoKVxuXG5jb25zdCBTZXJ2ZXJVSTogRnVuY3Rpb25Db21wb25lbnQ8eyB1cmw6IHN0cmluZyB9PiA9ICgpID0+IHtcbiAgLy8gY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKHVybClcblxuICAvLyByZXR1cm4gKFxuICAvLyAgIDxSb3V0ZXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtyb3V0ZXJ9PlxuICAvLyAgICAgPFVJIC8+XG4gIC8vICAgPC9Sb3V0ZXJDb250ZXh0LlByb3ZpZGVyPlxuICAvLyApXG4gIHJldHVybiA8ZGl2PlxuICAgIFNTUiB3b3VsZCBiZSBjb21pbmcgc29vbiBidXQgSSBuZWVkIHRvIHJlc2VhcmNoIHdoYXQgdG8gZG8gd2l0aCBzdHlsZS1sb2FkZXJcbiAgPC9kaXY+XG59XG5cbnNlcnZlci5nZXQoJy9hcGkvc3BvbnNvcnMnLCBjb3JzKCksIGFzeW5jIChfcmVxLCByZXMpID0+IHtcbiAgY29uc3QganNvbiA9IGF3YWl0IGNhY2hlKCdGSVhNRScsICgpID0+IHJlcXVlc3RHcmFwaFFMKFNQT05TT1JTX1VSTCwgc3BvbnNvcnNRdWVyeSwgeyAnQXBpLUtleSc6IE9QRU5fQ09MTEVDVElWRV9BUElfS0VZIH0pKVxuICByZXMuc2VuZChqc29uKVxufSlcblxuc2VydmVyLmdldCgnL2FwaS9jb250cmlidXRvcnMnLCBjb3JzKCksIGFzeW5jIChfcmVxLCByZXMpID0+IHtcbiAgY29uc3QganNvbiA9IGF3YWl0IGNhY2hlKCdSRVBMQUNFIE1FIFdJVEggUkVBTCBDQUhDRSBMSUJSQVJZJywgKCkgPT4gZ2V0SlNPTihDT05UUklCVVRPUlNfVVJMKSlcbiAgcmVzLnNlbmQoanNvbilcbn0pXG5cbnNlcnZlci5nZXQoJyonLCAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgYm9keSA9IHJlbmRlcig8U2VydmVyVUkgdXJsPXtyZXEudXJsfSAvPilcblxuICByZXMuc2VuZCh0ZW1wbGF0ZSh7XG4gICAgYm9keSxcbiAgICBlbnRyeTogJy9zdGF0aWMvc2NyaXB0LmpzJ1xuICB9KSlcbn0pXG5cbmV4cG9ydCBjb25zdCBhcHAgPSBodHRwcy5vblJlcXVlc3Qoc2VydmVyKVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaXNvbW9ycGhpYy1mZXRjaFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmaXJlYmFzZS1mdW5jdGlvbnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicHJlYWN0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInByZWFjdC1yZW5kZXItdG8tc3RyaW5nXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYW5vbnltb3VzKGxvY2FscywgZXNjYXBlRm4sIGluY2x1ZGUsIHJldGhyb3cpIHtcbiAgICByZXRocm93ID0gcmV0aHJvdyB8fCBmdW5jdGlvbiByZXRocm93KGVyciwgc3RyLCBmbG5tLCBsaW5lbm8sIGVzYykge1xuICAgICAgICB2YXIgbGluZXMgPSBzdHIuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIHZhciBzdGFydCA9IE1hdGgubWF4KGxpbmVubyAtIDMsIDApO1xuICAgICAgICB2YXIgZW5kID0gTWF0aC5taW4obGluZXMubGVuZ3RoLCBsaW5lbm8gKyAzKTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gZXNjKGZsbm0pO1xuICAgICAgICB2YXIgY29udGV4dCA9IGxpbmVzLnNsaWNlKHN0YXJ0LCBlbmQpLm1hcChmdW5jdGlvbihsaW5lLCBpKSB7XG4gICAgICAgICAgICB2YXIgY3VyciA9IGkgKyBzdGFydCArIDE7XG4gICAgICAgICAgICByZXR1cm4gKGN1cnIgPT0gbGluZW5vID8gXCIgPj4gXCIgOiBcIiAgICBcIikgKyBjdXJyICsgXCJ8IFwiICsgbGluZTtcbiAgICAgICAgfSkuam9pbihcIlxcblwiKTtcbiAgICAgICAgZXJyLnBhdGggPSBmaWxlbmFtZTtcbiAgICAgICAgZXJyLm1lc3NhZ2UgPSAoZmlsZW5hbWUgfHwgXCJlanNcIikgKyBcIjpcIiArIGxpbmVubyArIFwiXFxuXCIgKyBjb250ZXh0ICsgXCJcXG5cXG5cIiArIGVyci5tZXNzYWdlO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgfTtcbiAgICBlc2NhcGVGbiA9IGVzY2FwZUZuIHx8IGZ1bmN0aW9uKG1hcmt1cCkge1xuICAgICAgICByZXR1cm4gbWFya3VwID09IHVuZGVmaW5lZCA/IFwiXCIgOiBTdHJpbmcobWFya3VwKS5yZXBsYWNlKF9NQVRDSF9IVE1MLCBlbmNvZGVfY2hhcik7XG4gICAgfTtcbiAgICB2YXIgX0VOQ09ERV9IVE1MX1JVTEVTID0ge1xuICAgICAgICBcIiZcIjogXCImYW1wO1wiLFxuICAgICAgICBcIjxcIjogXCImbHQ7XCIsXG4gICAgICAgIFwiPlwiOiBcIiZndDtcIixcbiAgICAgICAgJ1wiJzogXCImIzM0O1wiLFxuICAgICAgICBcIidcIjogXCImIzM5O1wiXG4gICAgfSwgX01BVENIX0hUTUwgPSAvWyY8PidcIl0vZztcbiAgICBmdW5jdGlvbiBlbmNvZGVfY2hhcihjKSB7XG4gICAgICAgIHJldHVybiBfRU5DT0RFX0hUTUxfUlVMRVNbY10gfHwgYztcbiAgICB9XG4gICAgdmFyIF9fbGluZSA9IDEsIF9fbGluZXMgPSAnPCFET0NUWVBFIGh0bWw+XFxuPGh0bWw+XFxuICA8aGVhZD5cXG4gICAgPG1ldGEgY2hhcnNldD1cInV0Zi04XCI+XFxuICAgIDx0aXRsZT5kYXRlLWZucyDigJQgbW9kZXJuIEphdmFTY3JpcHQgZGF0ZSB1dGlsaXR5IGxpYnJhcnk8L3RpdGxlPlxcbiAgPC9oZWFkPlxcbiAgPGJvZHk+XFxuICAgIDxkaXYgaWQ9XCJyb290XCI+XFxuICAgICAgPCUgaWYgKHR5cGVvZiBib2R5ICE9PSBcXCd1bmRlZmluZWRcXCcpIHsgJT5cXG4gICAgICAgIDwlLSBib2R5ICU+XFxuICAgICAgPCUgfSAlPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPCUgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXFwndW5kZWZpbmVkXFwnKSB7ICU+XFxuICAgICAgPHNjcmlwdCBzcmM9XCI8JT0gZW50cnkgJT5cIj48L3NjcmlwdD5cXG4gICAgPCUgfSAlPlxcbiAgPC9ib2R5PlxcbjwvaHRtbD5cXG4nLCBfX2ZpbGVuYW1lID0gXCJzcmMvc2VydmVyL3RlbXBsYXRlLmVqc1wiO1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBfX291dHB1dCA9IFwiXCI7XG4gICAgICAgIGZ1bmN0aW9uIF9fYXBwZW5kKHMpIHtcbiAgICAgICAgICAgIGlmIChzICE9PSB1bmRlZmluZWQgJiYgcyAhPT0gbnVsbCkgX19vdXRwdXQgKz0gcztcbiAgICAgICAgfVxuICAgICAgICB3aXRoIChsb2NhbHMgfHwge30pIHtcbiAgICAgICAgICAgIF9fYXBwZW5kKCc8IURPQ1RZUEUgaHRtbD5cXG48aHRtbD5cXG4gIDxoZWFkPlxcbiAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cXG4gICAgPHRpdGxlPmRhdGUtZm5zIOKAlCBtb2Rlcm4gSmF2YVNjcmlwdCBkYXRlIHV0aWxpdHkgbGlicmFyeTwvdGl0bGU+XFxuICA8L2hlYWQ+XFxuICA8Ym9keT5cXG4gICAgPGRpdiBpZD1cInJvb3RcIj5cXG4gICAgICAnKTtcbiAgICAgICAgICAgIF9fbGluZSA9IDk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGJvZHkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICBfX2FwcGVuZChcIlxcbiAgICAgICAgXCIpO1xuICAgICAgICAgICAgICAgIF9fbGluZSA9IDEwO1xuICAgICAgICAgICAgICAgIF9fYXBwZW5kKGJvZHkpO1xuICAgICAgICAgICAgICAgIF9fYXBwZW5kKFwiXFxuICAgICAgXCIpO1xuICAgICAgICAgICAgICAgIF9fbGluZSA9IDExO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19hcHBlbmQoXCJcXG4gICAgPC9kaXY+XFxuXFxuICAgIFwiKTtcbiAgICAgICAgICAgIF9fbGluZSA9IDE0O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIF9fYXBwZW5kKCdcXG4gICAgICA8c2NyaXB0IHNyYz1cIicpO1xuICAgICAgICAgICAgICAgIF9fbGluZSA9IDE1O1xuICAgICAgICAgICAgICAgIF9fYXBwZW5kKGVzY2FwZUZuKGVudHJ5KSk7XG4gICAgICAgICAgICAgICAgX19hcHBlbmQoJ1wiPjwvc2NyaXB0PlxcbiAgICAnKTtcbiAgICAgICAgICAgICAgICBfX2xpbmUgPSAxNjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9fYXBwZW5kKFwiXFxuICA8L2JvZHk+XFxuPC9odG1sPlxcblwiKTtcbiAgICAgICAgICAgIF9fbGluZSA9IDE5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfX291dHB1dDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldGhyb3coZSwgX19saW5lcywgX19maWxlbmFtZSwgX19saW5lLCBlc2NhcGVGbik7XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7IiwiaW50ZXJmYWNlIFJlcXVlc3RPcHRpb25zIHtcbiAgbWV0aG9kPzogJ0dFVCcgfCAnUE9TVCdcbiAgZGF0YT86IGFueVxuICBoZWFkZXJzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfVxufVxuXG5pbnRlcmZhY2UgQnVpbHRJbkZldGNoT3B0aW9ucyBleHRlbmRzIFJlcXVlc3RPcHRpb25zIHtcbiAgbW9kZT86IFJlcXVlc3RNb2RlXG4gIGJvZHk/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3QodXJsOiBzdHJpbmcsIG9wdGlvbnM6IFJlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBtZXRob2QgPSAnR0VUJywgZGF0YSwgaGVhZGVyczogZGVmYXVsdEhlYWRlcnMgPSB7fSB9ID0gb3B0aW9uc1xuXG4gIGxldCBoZWFkZXJzID0gZGVmYXVsdEhlYWRlcnNcbiAgbGV0IGZldGNoT3B0aW9uczogQnVpbHRJbkZldGNoT3B0aW9ucyA9IHsgbW9kZTogJ2NvcnMnIH1cblxuICBpZiAoZGF0YSkge1xuICAgIGlmIChtZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAvLyBUT0RPOiBFbmFibGUgcXMgd2hlbiBHRVQgd2l0aCBkYXRhIHdpbGwgYmUgcmVxdWlyZWQuXG4gICAgICAvLyB1cmwgKz0gYD8ke3FzLnN0cmluZ2lmeShkYXRhLCB7YXJyYXlGb3JtYXQ6ICdicmFja2V0cyd9KX1gXG4gICAgfSBlbHNlIHtcbiAgICAgIGZldGNoT3B0aW9ucyA9IHsgLi4uZmV0Y2hPcHRpb25zLCBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSB9XG4gICAgICBoZWFkZXJzID0geyAuLi5oZWFkZXJzLCAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgIC4uLmZldGNoT3B0aW9ucyxcbiAgICBtZXRob2QsXG4gICAgaGVhZGVyczogbmV3IEhlYWRlcnMoaGVhZGVycylcbiAgfSlcblxuICBjb25zdCB7IHN0YXR1cyB9ID0gcmVzcG9uc2VcblxuICBpZiAoc3RhdHVzID09PSA1MDApIHtcbiAgICAvLyBUT0RPOiBQcm9jZXNzIDUwMCB3aGVuIGl0IHdpbGwgYmUgcmVxdWlyZWQuXG4gIH1cblxuICBpZiAoc3RhdHVzID49IDQwMCAmJiBzdGF0dXMgPCA1MDApIHtcbiAgICAvLyBUT0RPOiBQcm9jZXNzIDR4eCB3aGVuIGl0IHdpbGwgYmUgcmVxdWlyZWQuXG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2Vcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RKU09OKHVybDogc3RyaW5nLCBvcHRpb25zOiBSZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChcbiAgICB1cmwsXG4gICAge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uKG9wdGlvbnMuaGVhZGVycyA/PyB7fSksXG4gICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9XG4gICAgfVxuICApXG5cbiAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SlNPTih1cmw6IHN0cmluZywgb3B0aW9uczogUmVxdWVzdE9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gcmVxdWVzdEpTT04odXJsLCB7Li4ub3B0aW9ucywgbWV0aG9kOiAnR0VUJ30pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0R3JhcGhRTCh1cmw6IHN0cmluZywgcXVlcnk6IHN0cmluZywgaGVhZGVycz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0pIHtcbiAgcmV0dXJuIHJlcXVlc3RKU09OKHVybCwgeyBtZXRob2Q6ICdQT1NUJywgZGF0YTogeyBxdWVyeSB9LCBoZWFkZXJzfSlcbn1cbiIsImV4cG9ydCBkZWZhdWx0IFwicXVlcnkge1xcbiAgYWNjb3VudCAoc2x1ZzogXFxcImRhdGUtZm5zXFxcIikge1xcbiAgICBvcmRlcnMgKGxpbWl0OiAxMDAwKSB7XFxuICAgICAgdG90YWxDb3VudFxcbiAgICAgIG5vZGVzIHtcXG4gICAgICAgIGZyb21BY2NvdW50IHtcXG4gICAgICAgICAgbmFtZVxcbiAgICAgICAgICBpbWFnZVVybFxcbiAgICAgICAgICBzbHVnXFxuICAgICAgICAgIHdlYnNpdGVcXG4gICAgICAgIH1cXG4gICAgICAgIGNyZWF0ZWRBdFxcbiAgICAgICAgdXBkYXRlZEF0XFxuICAgICAgICBzdGF0dXNcXG4gICAgICAgIGFtb3VudCB7XFxuICAgICAgICAgIHZhbHVlXFxuICAgICAgICB9XFxuICAgICAgICB0b3RhbERvbmF0aW9ucyB7XFxuICAgICAgICAgIHZhbHVlXFxuICAgICAgICB9XFxuICAgICAgICB0aWVyIHtcXG4gICAgICAgICAgc2x1Z1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgfVxcbiAgfVxcbn1cIjsiLCJleHBvcnQgY29uc3QgT1BFTl9DT0xMRUNUSVZFX0FQSV9LRVkgPSAnYTRlYzc5ODJmN2Q4YTExODg2M2M2MTA3ZDhkNTU0YTQ0NGNiMGQ0YydcblxuZXhwb3J0IGNvbnN0IEZJUkVCQVNFX0FQUCA9IHtcbiAgYXBpS2V5OiAnQUl6YVN5QlFoRnloaFo0OTZCdHB0NENGUkMyYWhlU2xMNzFvbWJjJyxcbiAgYXV0aERvbWFpbjogJ25vdmVtYmVyLWV4cGVyaW1lbnQud2ViLmFwcCcsXG4gIHByb2plY3RJZDogJ25vdmVtYmVyLWV4cGVyaW1lbnQnLFxuICBkYXRhYmFzZVVSTDogJ2h0dHBzOi8vbm92ZW1iZXItZXhwZXJpbWVudC5maXJlYmFzZWlvLmNvbS8nXG59IFxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yc1wiKTsiLCJpbXBvcnQgc3ViRGF5cyBmcm9tICdkYXRlLWZucy9zdWJEYXlzJ1xuXG5jb25zdCBjYWNoZVN0b3JlOiB7XG4gIFtrZXk6IHN0cmluZ106IHtcbiAgICByZXNwb25zZTogYW55LFxuICAgIGxhc3RVcGRhdGVkOiBEYXRlXG4gIH1cbn0gPSB7fVxuXG4vKipcbiAqIEBraWxsbWVwbGVhc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhY2hlIChpZDogc3RyaW5nLCBjYWxsYmFjazogKCkgPT4gUHJvbWlzZTxhbnk+KSB7XG4gIGlmICghY2FjaGVTdG9yZVtpZF0gfHwgKGNhY2hlU3RvcmVbaWRdLmxhc3RVcGRhdGVkIDwgc3ViRGF5cyhuZXcgRGF0ZSgpLCAxKSkpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxiYWNrKClcbiAgICBjYWNoZVN0b3JlW2lkXSA9IHtcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNhY2hlU3RvcmVbaWRdLnJlc3BvbnNlXG59IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZGF0ZS1mbnMvc3ViRGF5c1wiKTsiXSwic291cmNlUm9vdCI6IiJ9